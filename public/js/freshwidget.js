(function(){var q=window.document,w={1:"top",2:"right",3:"bottom",4:"left",top:"top",right:"right",bottom:"bottom",left:"left"},k=/^[a-zA-Z]+:\/\//,i=2,f={widgetId:0,buttonText:"Support",buttonBg:"#7eb600",buttonColor:"white",backgroundImage:null,alignment:"left",offset:"35%",url:"http://support.freshdesk.com",assetUrl:"https://s3.amazonaws.com/assets.freshdesk.com/widget",queryString:"",formHeight:"500px",widgetType:"popup"},n,t,E,m,c,e,y,v;container=null;function C(H){try{return H()}catch(I){if(window.console&&window.console.log&&window.console.log.apply){window.console.log("Freshdesk Error: ",I)}}}var b={Version:function(){var H=999;if(navigator.appVersion.indexOf("MSIE")!=-1){H=parseFloat(navigator.appVersion.split("MSIE")[1])}return H}};function r(H){if(H&&!(k.test(H))){return q.location.protocol+"//"+H}else{return H}}function x(H){var I=q.createElement("link");I.setAttribute("rel","stylesheet");I.setAttribute("type","text/css");I.setAttribute("href",H);if(typeof I!="undefined"){q.getElementsByTagName("head")[0].appendChild(I)}}function B(H){var I=q.createElement("script");I.setAttribute("type","text/javascript");I.setAttribute("src",H);if(typeof I!="undefined"){q.getElementsByTagName("head")[0].appendChild(I)}}function G(I,H,J){if(I&&I.addEventListener){I.addEventListener(H,J,false)}else{if(I&&I.attachEvent){I.attachEvent("on"+H,J)}}}function z(H){var I;for(I in H){if(f.hasOwnProperty(I)){if(I==="url"||I==="assetUrl"){f[I]=r(H[I])}else{f[I]=H[I]}}}}function F(J){url=J.src;var I=window.navigator&&window.navigator.appVersion.split("MSIE");var H=parseFloat(I[1]);if((H>=5.5)&&(H<7)&&(q.body.filters)){J.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+url+"', sizingMethod='crop')"}else{J.style.backgroundImage="url("+url+")"}return J}function s(){if(c==null&&f.widgetType=="popup"){class_name=w[f.alignment]||"left";c=q.createElement("div");c.setAttribute("id","freshwidget-button");c.style.display="none";c.className="freshwidget-button fd-btn-"+class_name;if(b.Version()<=10){c.className+=" ie"+b.Version()}link=q.createElement("a");link.setAttribute("href","javascript:void(0)");text=null;proxyLink=q.createElement("a");proxyLink.setAttribute("href","javascript:void(0)");if(f.backgroundImage==null||f.backgroundImage==""){link.className="freshwidget-theme";link.style.color=f.buttonColor;link.style.backgroundColor=f.buttonBg;link.style.borderColor=f.buttonColor;proxyLink.className="proxy-link";text=q.createTextNode(f.buttonText)}else{link.className="freshwidget-customimage";text=q.createElement("img");text.src=f.backgroundImage;text=F(text)}if(class_name=="top"||class_name=="bottom"){c.style.left=f.offset}else{c.style.top=f.offset}q.body.insertBefore(c,q.body.childNodes[0]);c.appendChild(link);link.appendChild(text);if((f.backgroundImage==null||f.backgroundImage=="")&&(b.Version()<=10)){c.appendChild(proxyLink);G(proxyLink,"click",function(){window.FreshWidget.show()});proxyLink.style.height=link.offsetHeight+"px";proxyLink.style.width=link.offsetWidth+"px"}G(link,"click",function(){window.FreshWidget.show()})}}function a(){if(c!=null){q.body.removeChild(c);c=null}}function h(){if(container!=null){q.body.removeChild(container);container=null}}function j(){if(container==null){container=q.createElement("div");container.className="freshwidget-container";container.id="FreshWidget";container.style.display="none";q.body.insertBefore(container,q.body.childNodes[0]);container.innerHTML='<div class="widget-ovelay" id="freshwidget-overlay">&nbsp;</div><div class="freshwidget-dialog" id="freshwidget-dialog"> <img id="freshwidget-close" class="widget-close" src="'+f.assetUrl+"/widget_close.png?ver="+i+'" /> <div class="frame-container"> 	<iframe id="freshwidget-frame" src="about:blank" frameborder="0" scrolling="auto" allowTransparency="true" style="height: '+f.formHeight+'"/> </div>';"</div>";container=q.getElementById("FreshWidget");e=q.getElementById("freshwidget-close");e=F(e);v=q.getElementById("freshwidget-dialog");m=q.getElementById("freshwidget-frame");y=q.getElementById("freshwidget-overlay");v.appendChild(m);D();G(e,"click",function(){window.FreshWidget.close()});G(y,"click",function(){window.FreshWidget.close()});G(m,"load",function(){if(!n&&m.src.indexOf("/widgets/feedback_widget/new?")!=-1){n=true}})}}function D(){m.src=f.url+"/loading.html?ver="+i}function u(){m.src=f.url+"/widgets/feedback_widget/new?"+f.queryString}function l(){scroll(0,0);container.style.display="block";if(b.Version()>8){html2canvas([q.body],{ignoreIds:"FreshWidget|freshwidget-button",proxy:false,onrendered:function(I){var H=I.toDataURL();var J=H;sendMessage=setInterval(function(){if(n){q.getElementById("freshwidget-frame").contentWindow.postMessage(J,"*");clearInterval(sendMessage)}else{}},500)}})}if(!n){u()}}function o(){container.style.display="none";u()}function d(H){z(H);if(window.location.protocol){f.assetUrl=(window.location.protocol=="https:")?"https://s3.amazonaws.com/assets.freshdesk.com/widget":"http://assets.freshdesk.com/widget"}if(b.Version()>8&&(typeof html2canvas==="undefined")){B(f.assetUrl+"/html2canvas.js?ver="+i)}G(window,"load",function(){s();j()});x(f.assetUrl+"/freshwidget.css?ver="+i)}function p(H){z(H);a();h();s();j()}function g(){a();h();delete window.FreshWidget}var A={init:function(H,I){C(function(){return d(I)})},show:function(){C(function(){return l()})},close:function(){C(function(){return o()})},iframe:function(){return m},update:function(H){C(function(){return p(H)})},destroy:function(){C(function(){return g()})}};if(!window.FreshWidget){window.FreshWidget=A}})();